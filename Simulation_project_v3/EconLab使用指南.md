# EconLab 使用指南

**应用名称**: EconLab - 农村女性就业市场仿真平台  
**版本**: 1.0  
**创建日期**: 2025-10-21

---

## 快速开始

### 启动应用

**方法1：双击批处理文件**（最简单）
```
双击 run_gui.bat
```

**方法2：命令行启动**
```bash
cd Simulation_project_v3
python GUI/app.py
```

---

## 使用流程

### 步骤1：配置参数（"参数配置"页）

1. **调整经济参数**
   - **贴现因子 ρ**：拖动滑块或输入数值（0.30-0.60）
     - 含义：个体对未来的重视程度
     - 建议值：0.40
   
   - **努力成本系数 κ**：调整努力的成本（1000-4000）
     - 含义：努力的边际成本，越大越不愿努力
     - 建议值：2000
   
   - **T负效用系数 α**：工作时间偏离惩罚（0.10-0.60）
     - 含义：工作时间偏离理想值的负效用
     - 建议值：0.30

2. **设置市场参数**
   - 个体数量：10000（可调整100-50000）
   - 目标市场紧张度：1.5
   - 最大迭代轮数：100

3. **保存配置**（可选）
   - 点击"保存当前配置"
   - 选择保存路径

### 步骤2：运行仿真（"仿真运行"页）

1. **开始运行**
   - 点击"▶ 开始仿真"按钮
   - 等待MFG均衡求解

2. **监控进度**
   - 查看进度条（0-100%）
   - 观察失业率实时变化
   - 查看收敛指标
   - 阅读运行日志

3. **控制运行**（可选）
   - 暂停：点击"⏸ 暂停"
   - 停止：点击"⏹ 停止"
   - 继续：点击"▶ 继续"

### 步骤3：查看结果（"结果分析"页）

仿真完成后会自动跳转到结果分析页。

1. **查看图表**
   - 切换不同标签页：
     - 失业率趋势：观察失业率随迭代的变化
     - 状态分布：查看T/S/D/W的分布情况
     - 收敛过程：检查价值函数和失业率的收敛
     - 市场紧张度：观察θ的变化

2. **查看关键指标**
   - 最终失业率
   - 收敛轮数
   - 平均工资
   - 市场紧张度
   - 平均状态变量（T、S等）

3. **导出结果**
   - **导出CSV数据**：保存个体详细数据
   - **导出所有图表**：批量保存PNG图片
   - **生成完整报告**：生成Markdown报告

---

## 界面说明

### 主窗口布局

```
┌──────────────────────────────────────────┐
│ EconLab - 农村女性就业市场仿真平台    [×] │
├──────────────────────────────────────────┤
│ 文件  运行  帮助                         │ ← 菜单栏
├──────────────────────────────────────────┤
│ [📁] [💾] [▶] [⏹] [❓]                   │ ← 工具栏
├──────────────────────────────────────────┤
│ [参数配置] [仿真运行] [结果分析]         │ ← 标签页
├──────────────────────────────────────────┤
│                                          │
│              当前页面内容                 │
│                                          │
└──────────────────────────────────────────┘
```

### 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl+N | 新建配置 |
| Ctrl+O | 打开配置 |
| Ctrl+S | 保存配置 |
| F5 | 开始仿真 |
| Shift+F5 | 停止仿真 |
| F1 | 显示帮助 |
| Ctrl+Q | 退出应用 |

---

## 参数说明

### 经济参数

**贴现因子 ρ**
- 范围：0.30-0.60
- 含义：个体对未来的重视程度，ρ越大越重视未来
- 影响：
  - ρ大 → 个体更愿意投资（努力提升技能）
  - ρ小 → 个体更短视，不愿努力

**努力成本系数 κ**
- 范围：1000-4000
- 含义：努力的边际成本，κ越大努力成本越高
- 影响：
  - κ大 → 个体努力水平降低
  - κ小 → 个体更愿意努力

**T负效用系数 α**
- 范围：0.10-0.60
- 含义：工作时间偏离理想值的负效用系数
- 影响：
  - α大 → 个体更偏好保持初始工作时间
  - α小 → 个体对工作时间变化不敏感

### 市场参数

**个体数量**
- 范围：100-50000
- 建议：10000（精度和性能的平衡）
- 影响：数量越大，统计越准确，但运行越慢

**目标市场紧张度 θ**
- 含义：岗位空缺数与失业者的比值
- θ=1：均衡市场
- θ>1：岗位富余型市场
- θ<1：岗位紧张型市场

**最大迭代轮数**
- 含义：MFG均衡求解的最大迭代次数
- 建议：100（通常30-50轮即可收敛）

---

## 结果解读

### 失业率趋势图

- **观察要点**：失业率是否趋于稳定
- **典型模式**：
  - 初期快速变化（0-20轮）
  - 中期波动减小（20-50轮）
  - 后期趋于平稳（50-100轮）

### 收敛曲线

- **价值函数收敛**：|ΔV|/|V| < 0.01
- **失业率收敛**：|Δu| < 0.001
- **收敛标志**：两条曲线都低于红色虚线

### 关键指标

- **最终失业率**：4-5%为正常范围
- **市场紧张度**：应接近目标值1.5
- **平均工资**：4000-5000元为合理范围
- **平均T值**：40-50小时/周为合理范围

---

## 常见问题

### Q1: 应用启动很慢？

**A**: 首次启动时Numba需要JIT编译，约需要3-5秒，后续启动会快一些。

### Q2: 运行仿真时界面卡住？

**A**: 这是正常现象，计算在后台进行。观察进度条和日志即可，无需担心。

### Q3: 仿真一直不收敛？

**A**: 可能的原因：
- 参数设置不合理（尝试降低ρ或增大κ）
- 迭代次数不够（增大最大迭代数到150-200）
- 收敛阈值过严（当前设置已优化）

### Q4: 导出的图表在哪里？

**A**: 在您选择的目录中，文件名格式为：
- `unemployment_trend_20251021_143052.png`
- `state_distribution_20251021_143052.png`
- 等

### Q5: 想要修改更多参数怎么办？

**A**: 当前GUI只暴露了最常用的6个参数。如需修改其他参数：
1. 直接编辑CONFIG/mfg_config.yaml文件
2. 在GUI中加载该配置文件

---

## 技术支持

### 问题反馈

如遇到问题，请提供：
1. 错误截图
2. 运行日志（复制日志窗口内容）
3. 使用的参数配置

### 文档资料

- **开发文档**: `GUI/GUI开发文档.md`
- **打包指南**: `GUI/打包指南.md`
- **项目README**: `README.md`
- **Change Log**: `DOCS/Change_Log.md`

---

## 版本历史

### v1.0 (2025-10-21)

初始版本，包含功能：
- 参数配置界面
- MFG仿真运行
- 结果可视化
- 数据导出

---

**享受使用EconLab进行经济学仿真实验吧！**

